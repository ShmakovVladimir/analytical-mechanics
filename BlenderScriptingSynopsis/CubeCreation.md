# Создание тел, обработка позиции объектов
- [Создание тел, обработка позиции объектов](#создание-тел-обработка-позиции-объектов)
    - [Необходимые библиотеки](#необходимые-библиотеки)
    - [Создание куба](#создание-куба)
        - [Вершины и грани](#вершины-и-грани)
        - [Добавление тела на сцену](#добавление-тела-на-сцену)

### Необходимые библиотеки

Помимо `bpy` будут полезны библиотеки `math` и `mathutils`.

Вторая библиотека создана разработчиками `blender`, и содержит необходимые математические объекты(например матрицы):
```python
from mathutils import Matrix
```

### Создание куба

##### Вершины и грани

Создание тела происходит заданием набора вершин и граней(полигонов). Для этого предусмотрены массивы `verts и faces`:

```python
verts = [(1.0, 1.0, -1.0),
         (1.0, -1.0, -1.0),
         (-1.0, -1.0, -1.0),
         (-1.0, 1.0, -1.0),
         (1.0, 1.0, 1.0),
         (1.0, -1.0, 1.0),
         (-1.0, -1.0, 1.0),
         (-1.0, 1.0, 1.0)]

faces = [(0, 1, 2, 3),
         (4, 7, 6, 5),
         (0, 4, 5, 1),
         (1, 5, 6, 2),
         (2, 6, 7, 3),
         (4, 0, 3, 7)]
```

Грани задаются соединением вершин. Обход влияет на ориентацию нормали(нормаль тела обозначается синим цветом).

##### Добавление тела на сцену

```python
mesh = bpy.data.meshes.new("cube data") #создание пустого меша
mesh.from_pydata(verts, [], faces) #заполняем меш данными

obj = bpy.data.objects.new("cube object", mesh) #создаем объект с именем "cube object, и привязываем к нему данные меша

bpy.context.scene.collection.objects.link(obj) #привязываем объект к сцене
```

